#
# This Makefile is compatible with GNU Make and has Winsock linking
#

#
# Programs
#

CC = C:\Dev-Cpp\bin\gcc

#
# Flags
#

CFLAGS = -g -O2 -pipe -std=c99 -Wall
CFLAGS += -DWINSOCK
CFLAGS += -I../inc -L../lib
LIBS = -lsam -lwsock32

#
# Build rules
#

all: warhammer-dgram

warhammer-dgram:
	$(CC) $(CFLAGS) -o warhammer-dgram.o -c warhammer-dgram.c
	$(CC) $(CFLAGS) -o warhammer-dgram warhammer-dgram.o $(LIBS)

#
# Cleanup rules
#

clean:
	-rm -f *.o *.exe warhammer-dgram
