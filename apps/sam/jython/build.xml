<?xml version="1.0" encoding="UTF-8"?>
<project basedir="." default="all" name="sam">

    <target name="all" depends="build" />

    <target name="build" depends="builddep, jar" />

    <target name="builddep">
        <ant dir="../../../core/java/" target="build" />
        <ant dir="../../ministreaming/java/" target="build" />
    </target>

    <target name="jar">

        <condition property="jythonext" value=".bat">
            <os family="windows" />
        </condition>
        <condition property="jythonext" value="">
            <not>
                <os family="windows" />
            </not>
        </condition>

        <exec executable="jythonc${jythonext}" dir=".">
            <env key="CLASSPATH" path="../../../core/java/build/i2p.jar:../../ministreaming/java/build/mstreaming.jar"/>
            <arg value="--jar"/><arg path="./i2psam.jar"/>
            <arg path="./src/i2psam.py"/>
        </exec>
    </target>

    <target name="clean">
        <delete file="i2psam.jar" />
        <delete dir="./jpywork" />
    </target>

</project>
